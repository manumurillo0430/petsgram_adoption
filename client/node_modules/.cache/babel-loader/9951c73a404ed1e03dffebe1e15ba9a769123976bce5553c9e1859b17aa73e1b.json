{"ast":null,"code":"import _regeneratorRuntime from\"/Users/manumurillo/Downloads/petsgram_adoption/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/manumurillo/Downloads/petsgram_adoption/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/manumurillo/Downloads/petsgram_adoption/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{Box,Flex,Center}from'@chakra-ui/react';import DashboardTabs from'./DashboardTabs';import{useState,useEffect}from'react';import{GetReq}from'../../utils/api';import{petStatus,petTypes}from'../../utils/globals';import PieChart from'./PieChart';import BarChart from'./BarChart';import Statistics from'./Statistics';import{Divider}from'antd';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function DashboardTemple(_ref){var data=_ref.data,labels=_ref.labels;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pets=_useState2[0],setPets=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),users=_useState4[0],setUsers=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),areListsLoading=_useState6[0],setAreListsLoading=_useState6[1];var _useState7=useState('pets'),_useState8=_slicedToArray(_useState7,2),tab=_useState8[0],setTab=_useState8[1];var adoptedPercentage=Math.round(pets.filter(function(pet){return pet.adoptionStatus==='Adopted';}).length/pets.length*100);var fosteredPercentage=Math.round(pets.filter(function(pet){return pet.adoptionStatus==='Fostered';}).length/pets.length*100);var availablePercentage=Math.round(pets.filter(function(pet){return pet.adoptionStatus==='Available';}).length/pets.length*100);var colorScale=['rgb(218 112 214 / 80%)','rgb(22 150 255 / 80%)','rgb(80 200 121 / 80%)'];var bgColor=['rgba(153, 102, 255, 0.5)','rgb(196,241,249, 0.5)','rgba(75, 192, 192, 0.5)','rgba(54, 162, 235, 0.5)'];var borderColor=['rgb(153, 102, 255)','rgb(196,241,249)','rgb(75, 192, 192)','rgb(54, 162, 235)'];var petTypesWithoutAny=petTypes.slice(1);var petTypesLength=petTypesWithoutAny.map(function(type){return pets.filter(function(pet){return pet.type===type;}).length;});useEffect(function(){var awaitGetUsers=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getUsers();case 2:_context.next=4;return getPets();case 4:setAreListsLoading(false);case 5:case\"end\":return _context.stop();}},_callee);}));return function awaitGetUsers(){return _ref2.apply(this,arguments);};}();awaitGetUsers();// eslint-disable-next-line\n},[]);var getUsers=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var _data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return GetReq('/user');case 3:_data=_context2.sent;console.log(_data);setUsers(_data.users);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,8]]);}));return function getUsers(){return _ref3.apply(this,arguments);};}();var getPets=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var _data2;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return GetReq('/pet');case 3:_data2=_context3.sent;console.log(_data2);setPets(_data2);console.log(pets.length);_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 12:case\"end\":return _context3.stop();}},_callee3,null,[[0,9]]);}));return function getPets(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Divider,{style:{border:'none',margin:'0.4rem'}}),/*#__PURE__*/_jsxs(Flex,{flexDir:\"column\",h:\"100% \",children:[/*#__PURE__*/_jsx(Flex,{w:\"100%\",h:\"10%\",children:/*#__PURE__*/_jsx(Center,{placeContent:\"center\",w:\"100%\",children:/*#__PURE__*/_jsxs(Flex,{flexDir:\"row\",w:\"80%\",children:[/*#__PURE__*/_jsx(PieChart,{data:[adoptedPercentage,fosteredPercentage,availablePercentage],colorScale:colorScale,labels:petStatus,endAngle:360}),/*#__PURE__*/_jsx(BarChart,{axeX:petTypesWithoutAny,axeY:petTypesLength,nameChart:\"Types Of Pets\",backgroundColor:bgColor,borderColor:borderColor})]})})}),/*#__PURE__*/_jsx(Flex,{w:\"100%\",h:\"90%\",children:/*#__PURE__*/_jsx(Flex,{w:\"100%\",children:/*#__PURE__*/_jsx(DashboardTabs,{users:users,pets:pets,areListsLoading:areListsLoading,tab:tab,setTab:setTab})})})]})]});}","map":{"version":3,"names":["React","Box","Flex","Center","DashboardTabs","useState","useEffect","GetReq","petStatus","petTypes","PieChart","BarChart","Statistics","Divider","jsx","_jsx","jsxs","_jsxs","DashboardTemple","_ref","data","labels","_useState","_useState2","_slicedToArray","pets","setPets","_useState3","_useState4","users","setUsers","_useState5","_useState6","areListsLoading","setAreListsLoading","_useState7","_useState8","tab","setTab","adoptedPercentage","Math","round","filter","pet","adoptionStatus","length","fosteredPercentage","availablePercentage","colorScale","bgColor","borderColor","petTypesWithoutAny","slice","petTypesLength","map","type","awaitGetUsers","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","getUsers","getPets","stop","apply","arguments","_ref3","_callee2","_data","_callee2$","_context2","sent","console","log","t0","_ref4","_callee3","_data2","_callee3$","_context3","children","style","border","margin","flexDir","h","w","placeContent","endAngle","axeX","axeY","nameChart","backgroundColor"],"sources":["/Users/manumurillo/Downloads/petsgram_adoption/client/src/components/Admin/DashboardTemple.jsx"],"sourcesContent":["import React from 'react'\nimport { Box, Flex, Center } from '@chakra-ui/react'\nimport DashboardTabs from './DashboardTabs'\nimport { useState, useEffect } from 'react'\nimport { GetReq } from '../../utils/api'\nimport { petStatus, petTypes } from '../../utils/globals'\nimport PieChart from './PieChart'\nimport BarChart from './BarChart'\nimport Statistics from './Statistics'\nimport { Divider } from 'antd'\n\nexport default function DashboardTemple({ data, labels }) {\n    const [pets, setPets] = useState([])\n    const [users, setUsers] = useState()\n    const [areListsLoading, setAreListsLoading] = useState(true)\n    const [tab, setTab] = useState('pets')\n    const adoptedPercentage = Math.round(\n        (pets.filter((pet) => pet.adoptionStatus === 'Adopted').length / pets.length) * 100\n    )\n    const fosteredPercentage = Math.round(\n        (pets.filter((pet) => pet.adoptionStatus === 'Fostered').length / pets.length) * 100\n    )\n    const availablePercentage = Math.round(\n        (pets.filter((pet) => pet.adoptionStatus === 'Available').length / pets.length) * 100\n    )\n    const colorScale = ['rgb(218 112 214 / 80%)', 'rgb(22 150 255 / 80%)', 'rgb(80 200 121 / 80%)']\n    const bgColor = [\n        'rgba(153, 102, 255, 0.5)',\n        'rgb(196,241,249, 0.5)',\n        'rgba(75, 192, 192, 0.5)',\n        'rgba(54, 162, 235, 0.5)',\n    ]\n    const borderColor = ['rgb(153, 102, 255)', 'rgb(196,241,249)', 'rgb(75, 192, 192)', 'rgb(54, 162, 235)']\n\n    const petTypesWithoutAny = petTypes.slice(1)\n    const petTypesLength = petTypesWithoutAny.map((type) => pets.filter((pet) => pet.type === type).length)\n\n    useEffect(() => {\n        const awaitGetUsers = async () => {\n            await getUsers()\n            await getPets()\n            setAreListsLoading(false)\n        }\n        awaitGetUsers() // eslint-disable-next-line\n    }, [])\n\n    const getUsers = async () => {\n        try {\n            const data = await GetReq('/user')\n            console.log(data)\n            setUsers(data.users)\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n    const getPets = async () => {\n        try {\n            const data = await GetReq('/pet')\n            console.log(data)\n            setPets(data)\n            console.log(pets.length)\n        } catch (err) {\n            console.log(err)\n        }\n    }\n    return (\n        <Box>\n            <Divider style={{ border: 'none', margin: '0.4rem' }} />\n            <Flex flexDir=\"column\" h=\"100% \">\n                <Flex w=\"100%\" h=\"10%\">\n                    <Center placeContent=\"center\" w=\"100%\">\n                        <Flex flexDir=\"row\" w=\"80%\">\n                            <PieChart\n                                data={[adoptedPercentage, fosteredPercentage, availablePercentage]}\n                                colorScale={colorScale}\n                                labels={petStatus}\n                                endAngle={360}\n                            />\n                            <BarChart\n                                axeX={petTypesWithoutAny}\n                                axeY={petTypesLength}\n                                nameChart=\"Types Of Pets\"\n                                backgroundColor={bgColor}\n                                borderColor={borderColor}\n                            />\n                            {/* <Statistics total /> */}\n                        </Flex>\n                    </Center>\n                </Flex>\n                <Flex w=\"100%\" h=\"90%\">\n                    <Flex w=\"100%\">\n                        <DashboardTabs\n                            users={users}\n                            pets={pets}\n                            areListsLoading={areListsLoading}\n                            tab={tab}\n                            setTab={setTab}\n                        />\n                    </Flex>\n                </Flex>\n            </Flex>\n        </Box>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}