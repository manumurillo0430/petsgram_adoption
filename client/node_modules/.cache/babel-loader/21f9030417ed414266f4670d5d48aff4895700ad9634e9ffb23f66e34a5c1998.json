{"ast":null,"code":"import _slicedToArray from\"/Users/manumurillo/Downloads/petsgram_adoption/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{FormControl,FormLabel,FormErrorMessage,Button,Flex,useColorModeValue}from'@chakra-ui/react';import{useFormikContext}from'formik';import{Divider}from'antd';import'./FormFileField.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function FormFileField(_ref){var fieldName=_ref.fieldName,fieldLabel=_ref.fieldLabel,req=_ref.req,setPicture=_ref.setPicture,picture=_ref.picture,noPicture=_ref.noPicture;console.log(picture,'manuel');var _useFormikContext=useFormikContext(),errors=_useFormikContext.errors,setFieldValue=_useFormikContext.setFieldValue;var _useState=useState(picture===''?noPicture:picture),_useState2=_slicedToArray(_useState,2),pictureView=_useState2[0],setPictureView=_useState2[1];var theme=useColorModeValue('dark','light');var handlePicture=function handlePicture(e){setPictureView(URL.createObjectURL(e.target.files[0]));setPicture(e.target.files[0]);};var handleDeletePicture=function handleDeletePicture(){setPicture('');setPictureView(noPicture);setFieldValue(fieldName,null);};return/*#__PURE__*/_jsxs(FormControl,{p:0,marginLeft:\"0\",marginBottom:\"2\",justifyContent:\"center\",flexFlow:\"row wrap\",isRequired:req,children:[/*#__PURE__*/_jsx(FormLabel,{fontWeight:\"bold\",children:fieldLabel}),/*#__PURE__*/_jsx(Divider,{style:{border:'none'}}),/*#__PURE__*/_jsx(\"div\",{className:\"picturePreview\",children:theme==='dark'?/*#__PURE__*/_jsx(\"img\",{src:picture===''?noPicture:pictureView,alt:\"Preview\"}):/*#__PURE__*/_jsx(\"img\",{src:picture===''?noPicture:pictureView,alt:\"Preview\"})}),/*#__PURE__*/_jsx(Divider,{style:{border:'none'}}),typeof picture!=='string'?/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",onClick:handleDeletePicture,children:\"Delete\"}),/*#__PURE__*/_jsx(\"label\",{class:theme==='light'?'chakra-button css-r7xd4a':'chakra-button css-jut409',for:\"file-input\",style:{cursor:'pointer'},children:\"Change\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file-input\",onChange:handlePicture})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{class:theme==='light'?'chakra-button css-r7xd4a':'chakra-button css-jut409',for:\"file-input\",style:{cursor:'pointer'},children:picture!==''?'Change Picture':'Add Picture'}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file-input\",onChange:handlePicture})]}),/*#__PURE__*/_jsx(FormErrorMessage,{children:errors[fieldName]})]});}","map":{"version":3,"names":["React","useState","FormControl","FormLabel","FormErrorMessage","Button","Flex","useColorModeValue","useFormikContext","Divider","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FormFileField","_ref","fieldName","fieldLabel","req","setPicture","picture","noPicture","console","log","_useFormikContext","errors","setFieldValue","_useState","_useState2","_slicedToArray","pictureView","setPictureView","theme","handlePicture","e","URL","createObjectURL","target","files","handleDeletePicture","p","marginLeft","marginBottom","justifyContent","flexFlow","isRequired","children","fontWeight","style","border","className","src","alt","colorScheme","onClick","class","for","cursor","type","id","onChange"],"sources":["/Users/manumurillo/Downloads/petsgram_adoption/client/src/components/form/FormFileField.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { FormControl, FormLabel, FormErrorMessage, Button, Flex, useColorModeValue } from '@chakra-ui/react'\nimport { useFormikContext } from 'formik'\nimport { Divider } from 'antd'\nimport './FormFileField.css'\n\nexport default function FormFileField({ fieldName, fieldLabel, req, setPicture, picture, noPicture }) {\n    console.log(picture, 'manuel')\n    const { errors, setFieldValue } = useFormikContext()\n    const [pictureView, setPictureView] = useState(picture === '' ? noPicture : picture)\n    const theme = useColorModeValue('dark', 'light')\n\n    const handlePicture = (e) => {\n        setPictureView(URL.createObjectURL(e.target.files[0]))\n        setPicture(e.target.files[0])\n    }\n\n    const handleDeletePicture = () => {\n        setPicture('')\n        setPictureView(noPicture)\n        setFieldValue(fieldName, null)\n    }\n\n    return (\n        <FormControl p={0} marginLeft=\"0\" marginBottom=\"2\" justifyContent=\"center\" flexFlow=\"row wrap\" isRequired={req}>\n            <FormLabel fontWeight=\"bold\">{fieldLabel}</FormLabel>\n            <Divider style={{ border: 'none' }} />\n            <div className=\"picturePreview\">\n                {theme === 'dark' ? (\n                    <img src={picture === '' ? noPicture : pictureView} alt=\"Preview\" />\n                ) : (\n                    <img src={picture === '' ? noPicture : pictureView} alt=\"Preview\" />\n                )}\n            </div>\n\n            <Divider style={{ border: 'none' }} />\n            {typeof picture !== 'string' ? (\n                <Flex justifyContent=\"space-between\">\n                    <Button colorScheme=\"blue\" onClick={handleDeletePicture}>\n                        Delete\n                    </Button>\n\n                    <label\n                        class={theme === 'light' ? 'chakra-button css-r7xd4a' : 'chakra-button css-jut409'}\n                        for=\"file-input\"\n                        style={{ cursor: 'pointer' }}\n                    >\n                        Change\n                    </label>\n                    <input type=\"file\" id=\"file-input\" onChange={handlePicture} />\n                </Flex>\n            ) : (\n                <>\n                    <label\n                        class={theme === 'light' ? 'chakra-button css-r7xd4a' : 'chakra-button css-jut409'}\n                        for=\"file-input\"\n                        style={{ cursor: 'pointer' }}\n                    >\n                        {picture !== '' ? 'Change Picture' : 'Add Picture'}\n                    </label>\n                    <input type=\"file\" id=\"file-input\" onChange={handlePicture} />\n                </>\n            )}\n            <FormErrorMessage>{errors[fieldName]}</FormErrorMessage>\n        </FormControl>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}