{"ast":null,"code":"import _regeneratorRuntime from\"/Users/manumurillo/Downloads/petsgram_adoption/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/manumurillo/Downloads/petsgram_adoption/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/manumurillo/Downloads/petsgram_adoption/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/manumurillo/Downloads/petsgram_adoption/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{Center,Button,Flex,FormLabel}from'@chakra-ui/react';import{ChevronDownIcon,SearchIcon}from'@chakra-ui/icons';import{petStatus}from'../../utils/globals';import{useSearchContext}from'../../context/SearchContext';import FormNumberField from'../form/FormNumberField';import*as yup from'yup';import{Formik}from'formik';import FormSubmitButtom from'../form/FormSubmitButtom';import{Input}from'@chakra-ui/react';import FilterSlider from'./FilterSlider';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdvancedSearchFilterCriteria(){var _useSearchContext=useSearchContext(),getFilteredPetsByCriteria=_useSearchContext.getFilteredPetsByCriteria,setFilterSelection=_useSearchContext.setFilterSelection,filterSelection=_useSearchContext.filterSelection;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),minHeight=_useState2[0],setMinHeight=_useState2[1];var _useState3=useState(100),_useState4=_slicedToArray(_useState3,2),maxHeight=_useState4[0],setMaxHeight=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),minWeight=_useState6[0],setMinWeight=_useState6[1];var _useState7=useState(100),_useState8=_slicedToArray(_useState7,2),maxWeight=_useState8[0],setMaxWeight=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),petName=_useState10[0],setPetName=_useState10[1];var handleSliderChangeHeight=function handleSliderChangeHeight(values){setMinHeight(values[0]);setMaxHeight(values[1]);};var handleSliderChangeWeight=function handleSliderChangeWeight(values){setMinWeight(values[0]);setMaxWeight(values[1]);};useEffect(function(){setFilterSelection(_objectSpread(_objectSpread({},filterSelection),{},{minHeight:minHeight,maxHeight:maxHeight,minWeight:minWeight,maxWeight:maxWeight,name:petName}));// yofi manu\n},[petName]);var weightHeightShema=yup.object().shape({type:yup.string(),name:yup.string(),adoptionStatus:yup.string(),minHeight:yup.number(),maxHeight:yup.number(),minWeight:yup.number(),maxWeight:yup.number()});return/*#__PURE__*/_jsx(Formik,{initialValues:{name:'',adoptionStatus:'',minHeight:'',maxHeight:'',minWeight:'',maxWeight:''},validationSchema:weightHeightShema,onSubmit:/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values,_ref){var resetForm;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:resetForm=_ref.resetForm;_context.prev=1;if(filterSelection.adoptionStatus==='Adoption Status'||filterSelection.adoptionStatus==='Any'){filterSelection.adoptionStatus='';}if(filterSelection.type==='Type'||filterSelection.type==='Any'){filterSelection.type='';}setFilterSelection({type:filterSelection.type,name:petName,adoptionStatus:filterSelection.adoptionStatus,minHeight:minHeight,maxHeight:maxHeight,minWeight:minWeight,maxWeight:maxWeight});console.log(filterSelection);_context.next=8;return getFilteredPetsByCriteria(filterSelection);case 8:_context.next=12;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);case 12:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}(),children:function children(_ref3){var handleSubmit=_ref3.handleSubmit;return/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(Center,{children:/*#__PURE__*/_jsxs(Flex,{mt:2,w:\"100%\",alignContent:\"center\",placeItems:\"center\",flexDirection:\"column\",children:[/*#__PURE__*/_jsx(Input,{name:\"name\",type:\"text\",placeholder:\"Search for a pet by name...\",px:6,onChange:function onChange(e){return setPetName(e.target.value);},onKeyDown:function onKeyDown(e){return e.key==='Enter'?handleSubmit():null;}}),/*#__PURE__*/_jsxs(Flex,{my:4,alignContent:\"center\",flexDirection:\"row\",children:[/*#__PURE__*/_jsx(FilterSlider,{min:minHeight,max:maxHeight,onSliderChange:handleSliderChangeHeight,filter:\"height\"}),/*#__PURE__*/_jsx(FilterSlider,{min:minWeight,max:maxWeight,onSliderChange:handleSliderChangeWeight,filter:\"weight\"})]}),/*#__PURE__*/_jsx(Button,{w:\"50%\",\"aria-label\":\"Search\",colorScheme:\"blue\",onClick:handleSubmit,children:\"Search\"})]})})});}});}","map":{"version":3,"names":["useEffect","useState","Center","Button","Flex","FormLabel","ChevronDownIcon","SearchIcon","petStatus","useSearchContext","FormNumberField","yup","Formik","FormSubmitButtom","Input","FilterSlider","jsx","_jsx","jsxs","_jsxs","AdvancedSearchFilterCriteria","_useSearchContext","getFilteredPetsByCriteria","setFilterSelection","filterSelection","_useState","_useState2","_slicedToArray","minHeight","setMinHeight","_useState3","_useState4","maxHeight","setMaxHeight","_useState5","_useState6","minWeight","setMinWeight","_useState7","_useState8","maxWeight","setMaxWeight","_useState9","_useState10","petName","setPetName","handleSliderChangeHeight","values","handleSliderChangeWeight","_objectSpread","name","weightHeightShema","object","shape","type","string","adoptionStatus","number","initialValues","validationSchema","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","resetForm","wrap","_callee$","_context","prev","next","console","log","t0","stop","_x","_x2","apply","arguments","children","_ref3","handleSubmit","mt","w","alignContent","placeItems","flexDirection","placeholder","px","onChange","e","target","value","onKeyDown","key","my","min","max","onSliderChange","filter","colorScheme","onClick"],"sources":["/Users/manumurillo/Downloads/petsgram_adoption/client/src/components/search/AdvancedSearchFilterCriteria.jsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { Center, Button, Flex, FormLabel } from '@chakra-ui/react'\nimport { ChevronDownIcon, SearchIcon } from '@chakra-ui/icons'\nimport { petStatus } from '../../utils/globals'\nimport { useSearchContext } from '../../context/SearchContext'\nimport FormNumberField from '../form/FormNumberField'\nimport * as yup from 'yup'\nimport { Formik } from 'formik'\nimport FormSubmitButtom from '../form/FormSubmitButtom'\nimport { Input } from '@chakra-ui/react'\nimport FilterSlider from './FilterSlider'\n\nexport default function AdvancedSearchFilterCriteria() {\n    const { getFilteredPetsByCriteria, setFilterSelection, filterSelection } = useSearchContext()\n\n    const [minHeight, setMinHeight] = useState(0)\n    const [maxHeight, setMaxHeight] = useState(100)\n\n    const [minWeight, setMinWeight] = useState(0)\n    const [maxWeight, setMaxWeight] = useState(100)\n\n    const [petName, setPetName] = useState()\n\n    const handleSliderChangeHeight = (values) => {\n        setMinHeight(values[0])\n        setMaxHeight(values[1])\n    }\n\n    const handleSliderChangeWeight = (values) => {\n        setMinWeight(values[0])\n        setMaxWeight(values[1])\n    }\n\n    useEffect(() => {\n        setFilterSelection({\n            ...filterSelection,\n            minHeight: minHeight,\n            maxHeight: maxHeight,\n            minWeight: minWeight,\n            maxWeight: maxWeight,\n            name: petName,\n        })\n        // yofi manu\n    }, [petName])\n\n    const weightHeightShema = yup.object().shape({\n        type: yup.string(),\n        name: yup.string(),\n        adoptionStatus: yup.string(),\n        minHeight: yup.number(),\n        maxHeight: yup.number(),\n        minWeight: yup.number(),\n        maxWeight: yup.number(),\n    })\n\n    return (\n        <Formik\n            initialValues={{\n                name: '',\n                adoptionStatus: '',\n                minHeight: '',\n                maxHeight: '',\n                minWeight: '',\n                maxWeight: '',\n            }}\n            validationSchema={weightHeightShema}\n            onSubmit={async (values, { resetForm }) => {\n                try {\n                    if (\n                        filterSelection.adoptionStatus === 'Adoption Status' ||\n                        filterSelection.adoptionStatus === 'Any'\n                    ) {\n                        filterSelection.adoptionStatus = ''\n                    }\n                    if (filterSelection.type === 'Type' || filterSelection.type === 'Any') {\n                        filterSelection.type = ''\n                    }\n\n                    setFilterSelection({\n                        type: filterSelection.type,\n                        name: petName,\n                        adoptionStatus: filterSelection.adoptionStatus,\n                        minHeight: minHeight,\n                        maxHeight: maxHeight,\n                        minWeight: minWeight,\n                        maxWeight: maxWeight,\n                    })\n                    console.log(filterSelection)\n                    await getFilteredPetsByCriteria(filterSelection)\n                } catch (error) {}\n            }}\n        >\n            {({ handleSubmit }) => (\n                <form onSubmit={handleSubmit}>\n                    <Center>\n                        <Flex mt={2} w=\"100%\" alignContent=\"center\" placeItems=\"center\" flexDirection=\"column\">\n                            <Input\n                                name=\"name\"\n                                type=\"text\"\n                                placeholder=\"Search for a pet by name...\"\n                                px={6}\n                                onChange={(e) => setPetName(e.target.value)}\n                                onKeyDown={(e) => (e.key === 'Enter' ? handleSubmit() : null)}\n                            />\n                            <Flex my={4} alignContent=\"center\" flexDirection=\"row\">\n                                <FilterSlider\n                                    min={minHeight}\n                                    max={maxHeight}\n                                    onSliderChange={handleSliderChangeHeight}\n                                    filter=\"height\"\n                                />\n                                <FilterSlider\n                                    min={minWeight}\n                                    max={maxWeight}\n                                    onSliderChange={handleSliderChangeWeight}\n                                    filter=\"weight\"\n                                />\n                            </Flex>\n                            <Button w=\"50%\" aria-label=\"Search\" colorScheme=\"blue\" onClick={handleSubmit}>\n                                Search\n                            </Button>\n                        </Flex>\n                    </Center>\n                </form>\n            )}\n        </Formik>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}