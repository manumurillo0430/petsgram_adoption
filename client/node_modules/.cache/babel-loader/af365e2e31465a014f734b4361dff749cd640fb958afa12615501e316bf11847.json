{"ast":null,"code":"import _regeneratorRuntime from\"/Users/manumurillo/Downloads/petsgram_adoption/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/manumurillo/Downloads/petsgram_adoption/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/manumurillo/Downloads/petsgram_adoption/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState}from'react';import*as yup from'yup';import{requiredField,telRegExp}from'../../utils/globals';import FormInputField from'../form/FormInputField';import FormSubmitButtom from'../form/FormSubmitButtom';import FormPasswordField from'../form/FormPasswordField';import{Formik}from'formik';import{PostReq}from'../../utils/api';import{useToast}from'@chakra-ui/react';import{useAuthContext}from'../../context/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Singup(_ref){var toggleModal=_ref.toggleModal;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),serverError=_useState2[0],setServerError=_useState2[1];var toast=useToast({title:'Profile created!',description:'You can already log in.',status:'success',duration:6000,isClosable:true,position:'top'});var singupSchema=yup.object().shape({firstname:yup.string().required(requiredField).min(3,'Name must be at least 3 characters.'),lastname:yup.string().min(3,'Name must be at least 3 characters.'),email:yup.string().required(requiredField),password:yup.string().required(requiredField).min(8,'Password must be at least 8 characters.'),repeatpassword:yup.string().required(requiredField).oneOf([yup.ref('password')],'Passwords must match.'),phonenumber:yup.string().matches(telRegExp,'Invalid phone number.')});return/*#__PURE__*/_jsx(Formik,{initialValues:{firstname:'',lastname:'',email:'',password:'',repeatpassword:'',phonenumber:''},validationSchema:singupSchema,validateOnChange:false,onSubmit:/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(newUser,_ref2){var resetForm,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:resetForm=_ref2.resetForm;_context.prev=1;setServerError('');_context.next=5;return PostReq('/user/signup/',newUser);case 5:res=_context.sent;if(res){toast();resetForm();toggleModal();}console.log(newUser);_context.next=12;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);case 12:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);}));return function(_x,_x2){return _ref3.apply(this,arguments);};}(),children:function children(_ref4){var handleSubmit=_ref4.handleSubmit;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormInputField,{req:true,fieldName:\"firstname\",fieldLabel:\"First Name\"}),/*#__PURE__*/_jsx(FormInputField,{req:false,fieldName:\"lastname\",fieldLabel:\"Last Name\"}),/*#__PURE__*/_jsx(FormInputField,{req:true,fieldName:\"email\",fieldLabel:\"Email\"}),/*#__PURE__*/_jsx(FormPasswordField,{req:true,fieldName:\"password\",fieldLabel:\"Password\"}),/*#__PURE__*/_jsx(FormPasswordField,{req:true,fieldName:\"repeatpassword\",fieldLabel:\"Confirm Password\"}),/*#__PURE__*/_jsx(FormInputField,{req:false,fieldName:\"phonenumber\",fieldLabel:\"Phone Number\"}),/*#__PURE__*/_jsx(FormSubmitButtom,{buttonLabel:\"Sing Up\"})]});}});}","map":{"version":3,"names":["React","useState","yup","requiredField","telRegExp","FormInputField","FormSubmitButtom","FormPasswordField","Formik","PostReq","useToast","useAuthContext","jsx","_jsx","jsxs","_jsxs","Singup","_ref","toggleModal","_useState","_useState2","_slicedToArray","serverError","setServerError","toast","title","description","status","duration","isClosable","position","singupSchema","object","shape","firstname","string","required","min","lastname","email","password","repeatpassword","oneOf","ref","phonenumber","matches","initialValues","validationSchema","validateOnChange","onSubmit","_ref3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newUser","_ref2","resetForm","res","wrap","_callee$","_context","prev","next","sent","console","log","t0","stop","_x","_x2","apply","arguments","children","_ref4","handleSubmit","req","fieldName","fieldLabel","buttonLabel"],"sources":["/Users/manumurillo/Downloads/petsgram_adoption/client/src/components/registration/Singup.jsx"],"sourcesContent":["import { React, useState } from 'react'\nimport * as yup from 'yup'\nimport { requiredField, telRegExp } from '../../utils/globals'\nimport FormInputField from '../form/FormInputField'\nimport FormSubmitButtom from '../form/FormSubmitButtom'\nimport FormPasswordField from '../form/FormPasswordField'\nimport { Formik } from 'formik'\nimport { PostReq } from '../../utils/api'\nimport { useToast } from '@chakra-ui/react'\nimport { useAuthContext } from '../../context/AuthContext'\n\nexport default function Singup({ toggleModal }) {\n    const [serverError, setServerError] = useState('')\n\n    const toast = useToast({\n        title: 'Profile created!',\n        description: 'You can already log in.',\n        status: 'success',\n        duration: 6000,\n        isClosable: true,\n        position: 'top',\n    })\n\n    const singupSchema = yup.object().shape({\n        firstname: yup.string().required(requiredField).min(3, 'Name must be at least 3 characters.'),\n        lastname: yup.string().min(3, 'Name must be at least 3 characters.'),\n        email: yup.string().required(requiredField),\n        password: yup.string().required(requiredField).min(8, 'Password must be at least 8 characters.'),\n        repeatpassword: yup\n            .string()\n            .required(requiredField)\n            .oneOf([yup.ref('password')], 'Passwords must match.'),\n        phonenumber: yup.string().matches(telRegExp, 'Invalid phone number.'),\n    })\n\n    return (\n        <Formik\n            initialValues={{\n                firstname: '',\n                lastname: '',\n                email: '',\n                password: '',\n                repeatpassword: '',\n                phonenumber: '',\n            }}\n            validationSchema={singupSchema}\n            validateOnChange={false}\n            onSubmit={async (newUser, { resetForm }) => {\n                try {\n                    setServerError('')\n                    const res = await PostReq('/user/signup/', newUser)\n                    if (res) {\n                        toast()\n                        resetForm()\n                        toggleModal()\n                    }\n\n                    console.log(newUser)\n                } catch (error) {}\n            }}\n        >\n            {({ handleSubmit }) => (\n                <form onSubmit={handleSubmit}>\n                    <FormInputField req={true} fieldName=\"firstname\" fieldLabel=\"First Name\" />\n                    <FormInputField req={false} fieldName=\"lastname\" fieldLabel=\"Last Name\" />\n                    <FormInputField req={true} fieldName=\"email\" fieldLabel=\"Email\" />\n                    <FormPasswordField req={true} fieldName=\"password\" fieldLabel=\"Password\" />\n                    <FormPasswordField req={true} fieldName=\"repeatpassword\" fieldLabel=\"Confirm Password\" />\n                    <FormInputField req={false} fieldName=\"phonenumber\" fieldLabel=\"Phone Number\" />\n                    <FormSubmitButtom buttonLabel=\"Sing Up\" />\n                </form>\n            )}\n        </Formik>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}